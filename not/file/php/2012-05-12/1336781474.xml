<?xml version="1.0" encoding="UTF-8"?>
<root>
<title>一个最简单的SOAP客户端与服务端测试实例</title>
<content>&amp;lt;p&amp;gt;
	&amp;lt;strong&amp;gt;&amp;lt;em&amp;gt;soapserver.php&amp;lt;/em&amp;gt;&amp;lt;/strong&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;p&amp;gt;
	&amp;lt;br&amp;nbsp;/&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;pre&amp;nbsp;name=\"code\"&amp;nbsp;id=\"prettyprint\"&amp;nbsp;class=\"PHP\"&amp;gt;&amp;amp;lt;?php
/*
&amp;nbsp;*&amp;nbsp;定义一个SOAP服务器&amp;nbsp;
&amp;nbsp;*/
&amp;nbsp;class&amp;nbsp;&amp;nbsp;MySoapServer&amp;nbsp;{
	public&amp;nbsp;function&amp;nbsp;get_message()&amp;nbsp;{
		return&amp;nbsp;Hello,world!&amp;nbsp;This&amp;nbsp;is&amp;nbsp;a&amp;nbsp;soap&amp;nbsp;server.&amp;nbsp;;
	}
	public&amp;nbsp;function&amp;nbsp;add_numbers($num1,$num2)&amp;nbsp;{
		return&amp;nbsp;$num1+$num2;
	}
&amp;nbsp;}
&amp;nbsp;
&amp;nbsp;function&amp;nbsp;add_number($num1,$num2)&amp;nbsp;{
		return&amp;nbsp;$num1+$num2;
&amp;nbsp;&amp;nbsp;}
&amp;nbsp;
&amp;nbsp;$options&amp;nbsp;=&amp;nbsp;array(&amp;nbsp;uri&amp;nbsp;=&amp;amp;gt;&amp;nbsp;http://example.com/soap&amp;nbsp;);
&amp;nbsp;$server&amp;nbsp;=&amp;nbsp;new&amp;nbsp;SoapServer(NULL,$options);
&amp;nbsp;try&amp;nbsp;{
	$server-&amp;amp;gt;setClass(&amp;nbsp;MySoapServer&amp;nbsp;);
	$server-&amp;amp;gt;addFunction(\"add_number\");
	$server-&amp;amp;gt;handle();
&amp;nbsp;}&amp;nbsp;catch(SoapFault&amp;nbsp;$fault)&amp;nbsp;{
	echo&amp;nbsp;&amp;nbsp;SoapFault:&amp;nbsp;.$fault-&amp;amp;gt;faultstring;
&amp;nbsp;}
&amp;nbsp;//var_dump($server);
?&amp;amp;gt;&amp;lt;/pre&amp;gt;
&amp;lt;strong&amp;gt;&amp;lt;em&amp;gt;soapclient.php&amp;lt;/em&amp;gt;&amp;lt;/strong&amp;gt;
&amp;lt;p&amp;gt;
	&amp;lt;br&amp;nbsp;/&amp;gt;
&amp;lt;/p&amp;gt;
&amp;lt;p&amp;gt;
&amp;lt;pre&amp;nbsp;name=\"code\"&amp;nbsp;id=\"prettyprint\"&amp;nbsp;class=\"Java\"&amp;gt;&amp;amp;lt;?php
/*
&amp;nbsp;*&amp;nbsp;定义一个SOAP客户端&amp;nbsp;
&amp;nbsp;*/
&amp;nbsp;$options&amp;nbsp;=&amp;nbsp;array(
		&amp;nbsp;location&amp;nbsp;=&amp;amp;gt;&amp;nbsp;http://localhost/soapserver.php&amp;nbsp;,
		&amp;nbsp;uri&amp;nbsp;=&amp;amp;gt;&amp;nbsp;http://example.com/soap&amp;nbsp;
		);
&amp;nbsp;$client&amp;nbsp;=&amp;nbsp;new&amp;nbsp;SoapClient(NULL,$options);
&amp;nbsp;try&amp;nbsp;{
	&amp;nbsp;$message&amp;nbsp;=&amp;nbsp;$client-&amp;amp;gt;get_message();
	&amp;nbsp;$addition&amp;nbsp;=&amp;nbsp;$client-&amp;amp;gt;add_numbers(1,2);
	&amp;nbsp;var_dump($message);
	&amp;nbsp;var_dump($addition);
&amp;nbsp;}&amp;nbsp;catch(SoapFault&amp;nbsp;$fault)&amp;nbsp;{
	var_dump($fault);
&amp;nbsp;}
?&amp;amp;gt;&amp;lt;/pre&amp;gt;
&amp;lt;/p&amp;gt;</content>
<json-link>./file/php/2012-05-12/1336781474.json</json-link>
<comment-link>4</comment-link>
<tags>5</tags>
<imghref/>
<comment-list>
 <c>
  <author-c>1</author-c>
  <uid-c>2</uid-c>
  <date-c>2</date-c>
  <conf-c>3</conf-c>
  <locked>true</locked>
 </c>
</comment-list>
</root>
