<div style="background:url('/img/content_text_line.png')bottom no-repeat;">
    <h1 class="header">PHP MySQL Select</h1>
</div>
<div>

<p><b>SELECT 语句用于从数据库中选取数据。</b></p>

<h1>从数据库表中选取数据</h1>

<p>SELECT 语句用于从数据库中选取数据。</p>

<h2>语法</h2>

<code>SELECT column_name(s) FROM table_name</code>

<p><b>注释</b>：SQL 语句对大小写不敏感。SELECT 与 select 等效。</p>
<p>为了让 PHP 执行上面的语句，我们必须使用 mysql_query() 函数。该函数用于向 MySQL 发送查询或命令。</p>

<h2>例子</h2>

<p>下面的例子选取存储在 "Persons" 表中的所有数据（* 字符选取表中所有数据）：</p>

<code>
&lt;?php<br />
$con&nbsp=&nbspmysql_connect("localhost","peter","abc123");<br />
if&nbsp(!$con)<br />
&nbsp&nbsp{<br />
&nbsp&nbspdie('Could&nbspnot&nbspconnect:&nbsp'&nbsp.&nbspmysql_error());<br />
&nbsp&nbsp}<br />
<br />
mysql_select_db("my_db",&nbsp$con);<br />
<br />
$result&nbsp=&nbspmysql_query("SELECT&nbsp*&nbspFROM&nbspPersons");<br />
<br />
while($row&nbsp=&nbspmysql_fetch_array($result))<br />
&nbsp&nbsp{<br />
&nbsp&nbspecho&nbsp$row['FirstName']&nbsp.&nbsp"&nbsp"&nbsp.&nbsp$row['LastName'];<br />
&nbsp&nbspecho&nbsp"&lt;br&nbsp/&gt;";<br />
&nbsp&nbsp}<br />
<br />
mysql_close($con);<br />
?&gt;
</code>

<p>上面这个例子在 $result 变量中存放由 mysql_query() 函数返回的数据。接下来，我们使用 mysql_fetch_array() 函数以数组的形式从记录集返回第一行。每个随后对 mysql_fetch_array() 函数的调用都会返回记录集中的下一行。 while loop 语句会循环记录集中的所有记录。为了输出每行的值，我们使用了 PHP 的 $row 变量 ($row['FirstName'] 和 $row['LastName'])。</p>
<p>以上代码的输出：</p>

<code>
Peter Griffin<br />
Glenn Quagmire
</code>

<h1>在 HTML 表格中显示结果</h1>

<p>下面的例子选取的数据与上面的例子相同，但是将把数据显示在一个 HTML 表格中：</p>

<code>
&lt;?php<br />
$con&nbsp=&nbspmysql_connect("localhost","peter","abc123");<br />
if&nbsp(!$con)<br />
&nbsp&nbsp{<br />
&nbsp&nbspdie('Could&nbspnot&nbspconnect:&nbsp'&nbsp.&nbspmysql_error());<br />
&nbsp&nbsp}<br />
<br />
mysql_select_db("my_db",&nbsp$con);<br />
<br />
$result&nbsp=&nbspmysql_query("SELECT&nbsp*&nbspFROM&nbspPersons");<br />
<br />
echo&nbsp"&lt;table&nbspborder='1'&gt;<br />
&lt;tr&gt;<br />
&lt;th&gt;Firstname&lt;/th&gt;<br />
&lt;th&gt;Lastname&lt;/th&gt;<br />
&lt;/tr&gt;";<br />
<br />
while($row&nbsp=&nbspmysql_fetch_array($result))<br />
&nbsp&nbsp{<br />
&nbsp&nbspecho&nbsp"&lt;tr&gt;";<br />
&nbsp&nbspecho&nbsp"&lt;td&gt;"&nbsp.&nbsp$row['FirstName']&nbsp.&nbsp"&lt;/td&gt;";<br />
&nbsp&nbspecho&nbsp"&lt;td&gt;"&nbsp.&nbsp$row['LastName']&nbsp.&nbsp"&lt;/td&gt;";<br />
&nbsp&nbspecho&nbsp"&lt;/tr&gt;";<br />
&nbsp&nbsp}<br />
echo&nbsp"&lt;/table&gt;";<br />
<br />
mysql_close($con);<br />
?&gt;
</code>

<p>以上代码的输出：</p>

<table class="dataintable" style="width:200px">
<tr>
<th>Firstname</th>
<th>Lastname</th>
</tr>
 
<tr>
<td>Glenn</td>
<td>Quagmire</td>
</tr>
 
<tr>
<td>Peter</td>
<td>Griffin</td>
</tr>
</table>

</div>
